<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asep Hermann's Table</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            text-align: center;
        }
        img {
            width: auto;
            height: 100vh; /* Fit to screen height */
            display: block;
            margin: 0 auto;
        }
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            pointer-events: none;
            display: none;
            z-index: 10;
        }
        #highlight {
            position: absolute;
            pointer-events: none;
            display: none;
            z-index: 5;
        }
        #highlight polygon {
            fill: rgba(255, 255, 255, 0.3); /* Semi-transparent fill */
            stroke: white; /* White border */
            stroke-width: 2;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            max-width: 90%; /* Ensure modal doesn't exceed screen width */
        }
        .modal button {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background: #f0f0f0;
            text-align: left;
        }
        .modal button i {
            margin-right: 10px;
        }

        /* Custom modal styles */
        #customAlert {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
    </style>
    <!-- Add FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Image Map Generated by http://www.image-map.net/ -->
    <img id="interactive-image" src="photo_2025-08-21_16-28.jpg" usemap="#image-map">

    <map name="image-map">
        <area target="_blank" alt="TV" title="TV" href="#" data-coords="255,0,258,315,268,329,439,271,571,231,569,0,540,0" shape="poly">
        <area target="_blank" alt="Google Search" title="Google Search" href="https://www.google.com/search?q=%22Asep%20Hermann%22" data-coords="25,185,211,147,220,150,223,161,218,170,208,178,26,216,15,207,12,200,18,191" shape="poly">
        <area target="_blank" alt="Laptop" title="Laptop" href="https://github.com/asephermann" data-coords="95,394,122,588,122,595,255,679,464,575,461,564,401,534,412,530,413,517,401,509,391,498,372,493,362,477,349,473,330,479,316,339,308,337" shape="poly">
        <area target="_blank" alt="Notebook" title="Notebook" href="https://medium.com/@asephermann" data-coords="269,703,439,790,571,675,572,660,413,602,383,623,364,633,351,634,339,640,317,660,270,690,270,698,270,699" shape="poly">
        <area target="_blank" alt="Guidebook" title="Guidebook" href="https://pddikti.kemdiktisaintek.go.id/search/asep%20hermann" data-coords="184,862,79,781,83,748,84,737,80,729,152,695,299,786,194,862" shape="poly">
        <area target="_blank" alt="Mie Ayam" title="Mie Ayam" href="#" data-coords="45,839,66,839,82,839,92,846,106,856,115,860,115,869,119,882,118,889,110,898,99,912,82,923,66,934,57,941,39,945,24,946,2,942,2,833,24,819" shape="poly">
        <area target="_blank" alt="Es Cendol" title="Es Cendol" href="#" data-coords="11,733,16,767,23,814,32,827,44,836,61,838,72,835,78,782,83,737,79,728,59,725,39,725,33,725,29,697,17,699,20,730,17,729" shape="poly">
        <area target="_blank" alt="Undangan Nikah" title="Undangan Nikah" href="https://asephermann.github.io/nikah/" data-coords="494,560,558,589,570,582,570,558,532,544,520,544" shape="poly">
        <area target="_blank" alt="Sertifikat 2" title="Wall of Fame 2" href="http://aseppunya.haekalplay.net/congrats2/" data-coords="1,532,49,532,56,590,1,596" shape="poly">
        <area target="_blank" alt="Sertifikat 1" title="Wall of Fame 1" href="http://aseppunya.haekalplay.net/congrats" data-coords="104,594,108,509,50,508,48,530,51,534,58,589" shape="poly">
    </map>

    <!-- Tooltip and Highlight Elements -->
    <div id="tooltip" class="tooltip"></div>
    <svg id="highlight" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;">
        <polygon points="" />
    </svg>

    <!-- Modal for TV Options -->
    <div id="tv-modal" class="modal">
        <button onclick="openLiveTV()">
            <i class="fas fa-tv"></i> Live TV News
        </button>
        <button onclick="openPrayerTimes()">
            <i class="fa-solid fa-mosque"></i> Prayer Times
        </button>
        <button onclick="openWeatherInfo()">
            <i class="fas fa-cloud-sun"></i> Weather Info
        </button>
        <button onclick="openMoonPhases()">
            <i class="fas fa-moon"></i> Moon Phases
        </button>
    </div>
    <div id="overlay" class="overlay"></div>
    <div id="customAlert">This is a custom alert!</div>

    <script>
        // Get elements
        const image = document.getElementById('interactive-image');
        const tooltip = document.getElementById('tooltip');
        const highlight = document.getElementById('highlight');
        const highlightPolygon = highlight.querySelector('polygon');
        const areas = document.querySelectorAll('area');
        const tvModal = document.getElementById('tv-modal');
        const overlay = document.getElementById('overlay');

        // Scale factors for responsive mapping
        let scaleFactorX = 1;
        let scaleFactorY = 1;

        // Calculate scale factors based on image dimensions
        function calculateScaleFactors() {
            const naturalWidth = image.naturalWidth;
            const naturalHeight = image.naturalHeight;
            const displayedWidth = image.offsetWidth;
            const displayedHeight = image.offsetHeight;
            scaleFactorX = displayedWidth / naturalWidth;
            scaleFactorY = displayedHeight / naturalHeight;
        }

        // Update coords dynamically
        function updateCoords() {
            areas.forEach(area => {
                const originalCoords = area.getAttribute('data-coords').split(',').map(Number);
                const scaledCoords = originalCoords.map((coord, index) => {
                    return index % 2 === 0 ? coord * scaleFactorX : coord * scaleFactorY;
                });
                area.coords = scaledCoords.join(',');
            });
        }

        // Update positions of tooltip and highlight
        function updatePositions(event, area) {
            const rect = image.getBoundingClientRect();
            const coords = area.coords.split(',').map(Number);

            // Convert polygon coordinates to scaled positions
            const scaledCoords = [];
            for (let i = 0; i < coords.length; i += 2) {
                scaledCoords.push(coords[i] + rect.left);
                scaledCoords.push(coords[i + 1] + rect.top);
            }

            // Tooltip position
            const centerX = scaledCoords.reduce((sum, coord, index) => index % 2 === 0 ? sum + coord : sum, 0) / (scaledCoords.length / 2);
            const centerY = scaledCoords.reduce((sum, coord, index) => index % 2 === 1 ? sum + coord : sum, 0) / (scaledCoords.length / 2);
            tooltip.style.left = `${centerX}px`;
            tooltip.style.top = `${centerY}px`;

            // Highlight position
            highlightPolygon.setAttribute('points', scaledCoords.join(' '));
        }

        // Function to show a custom alert
        function showAlert(message) {
            const customAlert = document.getElementById('customAlert');

            // Set the message and show the alert
            customAlert.textContent = message;
            customAlert.style.display = 'block';
            overlay.style.display = 'block';

            // Automatically hide the alert after 2 seconds
            setTimeout(() => {
                customAlert.style.display = 'none';
                overlay.style.display = 'none';
            }, 2000); // 2 seconds
        }

        // Open TV Modal
        function openTVModal() {
            // Set modal width to match image width (but not exceed 90% of screen width)
            const imageWidth = image.offsetWidth;
            const maxModalWidth = Math.min(imageWidth, window.innerWidth * 0.7);
            tvModal.style.width = `${maxModalWidth}px`;
            tvModal.style.display = 'block';
            overlay.style.display = 'block';
        }

        // Close TV Modal
        function closeTVModal() {
            tvModal.style.display = 'none';
            overlay.style.display = 'none';
        }

        // Button Actions
        function openLiveTV() {
            // Show custom alert
            showAlert('Opening Live TV...');

            // Close the modal (assuming this function exists)
            closeTVModal();

            // Define the URL for News
            const youtubeUrl = 'https://www.youtube.com/feed/news_destination';
            const youtubeAppUrl = 'vnd.youtube://www.youtube.com/feed/news_destination'; // Deep link for YouTube app

            // Check if the user is on a mobile device
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

            if (isMobile) {
                // Attempt to open the YouTube app using the deep link
                window.location.href = youtubeAppUrl;

                // Fallback to opening the URL in a new tab if the app is not installed
                setTimeout(() => {
                    window.open(youtubeUrl, '_blank');
                }, 1000); // Wait 1 second before falling back
            } else {
                // For desktop, open the URL in a new tab
                window.open(youtubeUrl, '_blank');
            }
        }

        function openPrayerTimes() {
            // Show custom alert
            showAlert('Opening Prayer Times Information...');

            // Close the modal (assuming this function exists)
            closeTVModal();

            // Define the URL for Salah.com
            const salahUrl = 'https://salah.com/';

            // Open the URL in a new tab
            window.open(salahUrl, '_blank');
        }

        function openWeatherInfo() {
            // Show custom alert
            showAlert('Opening Weather Information...');

            // Close the modal (assuming this function exists)
            closeTVModal();

            // Define the URL for Ventusky
            const ventuskyUrl = 'https://www.ventusky.com/';

            // Open the URL in a new tab
            window.open(ventuskyUrl, '_blank');
        }
        
        function openMoonPhases() {
            // Show custom alert
            showAlert('Opening Moon Phases...');

            // Close the modal (assuming this function exists)
            closeTVModal();

            // Define the URL for Ventusky
            const moonPhasesUrl = 'https://starwalk.space/en/moon-calendar';

            // Open the URL in a new tab
            window.open(moonPhasesUrl, '_blank');
        }

        function handleMieAyamClick(event) {
            event.preventDefault(); // Prevent default link behavior

            const userLanguage = navigator.language || navigator.userLanguage; // Detect browser language
            let searchQuery;
            if (userLanguage.startsWith('id')) {
                // If the language is Indonesian
                searchQuery = 'mie ayam terdekat dari sini';
            } else {
                // For other languages
                searchQuery = 'closest mie ayam from here';
            }

            // Check if the device is mobile
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

            if (isMobile) {
                // Use the Google Maps app-specific URL scheme
                const mapsAppUrl = `https://maps.google.com/maps?q=${encodeURIComponent(searchQuery)}`;
                window.location.href = `comgooglemaps://?q=${encodeURIComponent(searchQuery)}`; // Try to open the app
                setTimeout(() => {
                    // Fallback to the web version if the app is not installed
                    window.open(mapsAppUrl, '_blank');
                }, 100);
            } else {
                // For desktop, open in a new tab
                window.open(`https://www.google.com/maps/search/${encodeURIComponent(searchQuery)}`, '_blank');
            }
        }

        function handleEsCendolClick(event) {
            event.preventDefault(); // Prevent default link behavior

            const userLanguage = navigator.language || navigator.userLanguage; // Detect browser language
            let searchQuery;
            if (userLanguage.startsWith('id')) {
                // If the language is Indonesian
                searchQuery = 'es cendol terdekat dari sini';
            } else {
                // For other languages
                searchQuery = 'closest es cendol from here';
            }

            // Check if the device is mobile
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

            if (isMobile) {
                // Use the Google Maps app-specific URL scheme
                const mapsAppUrl = `https://maps.google.com/maps?q=${encodeURIComponent(searchQuery)}`;
                window.location.href = `comgooglemaps://?q=${encodeURIComponent(searchQuery)}`; // Try to open the app
                setTimeout(() => {
                    // Fallback to the web version if the app is not installed
                    window.open(mapsAppUrl, '_blank');
                }, 100);
            } else {
                // For desktop, open in a new tab
                window.open(`https://www.google.com/maps/search/${encodeURIComponent(searchQuery)}`, '_blank');
            }
        }

        // Event listeners for hover/touch
        areas.forEach(area => {
            area.addEventListener('mouseenter', event => {
                tooltip.textContent = area.title;
                tooltip.style.display = 'block';
                highlight.style.display = 'block';
                updatePositions(event, area);
            });

            area.addEventListener('mouseleave', () => {
                tooltip.style.display = 'none';
                highlight.style.display = 'none';
            });

            area.addEventListener('click', event => {
                if (area.alt === 'TV') {
                    event.preventDefault();
                    openTVModal();
                } else if (area.alt === 'Mie Ayam') {
                    handleMieAyamClick(event);
                } else if (area.alt === 'Es Cendol') {
                    handleEsCendolClick(event);
                }
            });

            area.addEventListener('touchstart', event => {
                event.preventDefault();
                tooltip.textContent = area.title;
                tooltip.style.display = 'block';
                highlight.style.display = 'block';
                updatePositions(event, area);
            });

            area.addEventListener('touchend', () => {
                tooltip.style.display = 'none';
                highlight.style.display = 'none';
            });
        });

        // Close modal when clicking outside
        overlay.addEventListener('click', closeTVModal);

        // Initialize scale factors and handle window resize
        window.addEventListener('load', () => {
            calculateScaleFactors();
            updateCoords();
        });

        window.addEventListener('resize', () => {
            calculateScaleFactors();
            updateCoords();
        });
    </script>
</body>

</html>




